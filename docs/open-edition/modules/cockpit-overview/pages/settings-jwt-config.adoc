= Configure API authentication (JWT)

In this topic you learn how to set up authentication via a Jason web token (JWT) and how to configure it in your cockpit.
You must accomplish different tasks to enable the connection.

== Prerequisites

* You have registered the _DXP - Open Edition_ in the Azure portal.
Find more information about how to register an app on https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app[microsoft.com].

== Procedure
. In the _DXP - Open edition_ cockpit, go to *Settings*, and click *System Settings*.
. Click the *Authentication* tab.
. Click *Edit*.
. Click *Add*, and select *JWT*.
+
image::settings-auth-jwt.png[,800]
*Result*: The Authentication window opens.

=== JWT authentication
Fill in or check the following fields:

Name:: Enter a name for the authentication.
Active:: Check to activate this authentication method.
Description:: Enter a description.
Path:: Enter a path to retrieve a _DXP Open Edition_ session (for example, /user/logon/jwt/(path). You can add any string as a path.
//What does it mean?
Issuer:: You can add an issuer validation.

Audience:: You can add an audience validation.

Secret:: Add a secret key for the validation if no jason web key set (JWKS) url is provided.

Jwks Url:: Add the URL that leads to the JWKS. For example:

----
https://login.microsoftonline.com/<tenantid>/discovery/v2.0/keys
----
Change <tenantid> to your app's tenant ID. To find your tenant ID, refer to

//do not explain that step, just enter the field description for tenant ID: "Enter the tenant ID from you Azure AD account." Add prerequisite: Have the tenant ID from the Azure Portal for your _Neptune DXP - Open Edition_ ready

Proxy for jwks url:: Add a proxy for your jwks url, you can add any string.

Override default Jwt Extraction Method - From Authorization Header as Bearer Token::
//Input needed

=== Claims assignment
. Click *Add* to add a claims assignment
//input

=== Auto assignment
Assign Role:: Select the  roles that you want to assign ...
//where do you create these roles?
Assign Departments:: Select departments that you want to assign ...
//see above. Input needed

== Result
You have configured an API authentication, and you have activated it.

== Related topics
* xref:settings-system.adoc[System Settings]